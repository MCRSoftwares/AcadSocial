{% extends 'base.html' %}
{% load staticfiles %}

{% block title %}Cadastro{% endblock %}

{% block head %}

    <script type="text/javascript">
            $(document).ready(function(){
               $('input[id=imageID]').change(function() {
                    $('#imageName').val($(this).val());
                });
            });
    </script>

{% endblock %}

{% block body %}
    <form method="post" action="." enctype="multipart/form-data" class="panel panel-default col-sm-6 form-horizontal">
        {% csrf_token %}
        <fieldset>

            <div class="panel-body">

                <legend>Realizar Cadastro</legend>

                <div class="form-group">

                    <label class="col-lg-3 control-label">Nome</label>

                    <div class="col-lg-9">
                        {{ usuario_form.first_name }}
                        {% if usuario_form.last_name.errors %}
                            {% for error in usuario_form.first_name.errors %}
                                <span class="help-block alert alert-danger alert-dismissable">
                                    <button type="button" class="close" data-dismiss="alert">×</button>
                                    {{ error }}
                                </span>
                            {% endfor %}
                        {% endif %}
                    </div>

                </div>

                <div class="form-group">
                    <label class="col-lg-3 control-label">Sobrenome</label>

                    <div class="col-lg-9">
                        {{ usuario_form.last_name }}
                        {% if usuario_form.last_name.errors %}
                            {% for error in usuario_form.last_name.errors %}
                                <span class="help-block alert alert-danger alert-dismissable">
                                    <button type="button" class="close" data-dismiss="alert">×</button>
                                    {{ error }}
                                </span>
                            {% endfor %}
                        {% endif %}
                    </div>

                </div>

                <div class="form-group">

                    <label class="col-lg-3 control-label">E-mail</label>

                    <div class="col-lg-5" style="padding-right: 0;">
                        {{ usuario_form.email_front }}
                    </div>

                    <div class="col-lg-4">
                        {{ usuario_form.email_back }}
                    </div>

                    <div class="col-lg-9 col-lg-offset-3">
                        {% if usuario_form.email_front.errors %}
                            {% for error in usuario_form.email_front.errors %}
                                <span class="help-block alert alert-danger alert-dismissable">
                                    <button type="button" class="close" data-dismiss="alert">×</button>
                                    {{ error }}
                                </span>
                            {% endfor %}
                        {% endif %}
                    </div>

                </div>
                <div class="form-group">
                    <label class="col-lg-3 control-label">Senha</label>
                    <div class="col-lg-9">
                        {{ usuario_form.password }}
                        {% if usuario_form.password.errors %}
                            {% for error in usuario_form.password.errors %}
                                <span class="help-block alert alert-danger alert-dismissable">
                                    <button type="button" class="close" data-dismiss="alert">×</button>
                                    {{ error }}
                                </span>
                            {% endfor %}
                        {% endif %}
                    </div>

                </div>

                <div class="form-group">

                    <label class="col-lg-3 control-label"></label>

                    <div class="col-lg-9">
                        {{ usuario_form.password_conf }}
                        {% if usuario_form.password_conf.errors %}
                            {% for error in usuario_form.password_conf.errors %}
                                <span class="help-block alert alert-danger alert-dismissable">
                                    <button type="button" class="close" data-dismiss="alert">×</button>
                                    {{ error }}
                                </span>
                            {% endfor %}
                        {% endif %}
                    </div>

                </div>

                <div class="form-group">
                    <label class="col-lg-3 control-label">Foto</label>
                    <div class="col-lg-9">
                        <div class="input-group">
                            {{ foto_form.imagem }}
                            <input id="imageName" class="form-control" disabled type="text">
                            <span class="input-group-btn">
                                <button class="btn btn-link" onclick="$('input[id=imageID]').click();" type="button">
                                    Escolher
                                </button>
                            </span>
                        </div>
                        <span class="help-block">
                            A foto deve ter o tamanho máximo de 2MB.
                        </span>
                        {% if foto_form.imagem.errors %}
                            {% for error in foto_form.imagem.errors %}
                                <span class="help-block alert alert-danger alert-dismissable">
                                    <button type="button" class="close" data-dismiss="alert">×</button>
                                    {{ error }}
                                </span>
                            {% endfor %}
                        {% endif %}
                    </div>

                </div>

                <div class="form-group">

                    <label class="col-lg-3 control-label">Universidade</label>

                    <div class="col-lg-9">

                        {{ perfil_form.universidade }}
                        {% if perfil_form.universidade.errors %}
                            {% for error in perfil_form.universidade.errors %}
                                <span class="help-block alert alert-danger alert-dismissable">
                                    <button type="button" class="close" data-dismiss="alert">×</button>
                                    {{ error }}
                                </span>
                            {% endfor %}
                        {% endif %}

                    </div>

                </div>

                <div class="form-group">

                    <label class="col-lg-3 control-label">Curso</label>

                    <div class="col-lg-9">

                        {{ perfil_form.curso }}
                        {% if perfil_form.curso.errors %}
                            {% for error in perfil_form.curso.errors %}
                                <span class="help-block alert alert-danger alert-dismissable">
                                    <button type="button" class="close" data-dismiss="alert">×</button>
                                    {{ error }}
                                </span>
                            {% endfor %}
                        {% endif %}

                    </div>

                </div>

                <div class="form-group">

                    <label class="col-lg-3 control-label">Data de Nascimento</label>

                    <div class="col-lg-3" style="padding-right: 5px;">
                        {{ perfil_form.dia }}
                    </div>

                    <div class="col-lg-3" style="padding-right: 5px;">
                        {{ perfil_form.mes }}
                    </div>

                    <div class="col-lg-3">
                        {{ perfil_form.ano }}
                    </div>

                </div>

                {% if perfil_form.non_field_errors %}
                    {% for error in perfil_form.non_field_errors %}
                        <span class="help-block alert alert-danger alert-dismissable">
                            <button type="button" class="close" data-dismiss="alert">×</button>
                            {{ error }}
                        </span>
                    {% endfor %}
                {% endif %}

                {% if usuario_form.non_field_errors %}
                    {% for error in usuario_form.non_field_errors %}
                        <span class="help-block alert alert-danger alert-dismissable">
                            <button type="button" class="close" data-dismiss="alert">×</button>
                            {{ error }}
                        </span>
                    {% endfor %}
                {% endif %}
                <br>
                <div class="form-group">

                    <div class="col-lg-0 col-lg-offset-9">
                        <button type="submit" class="btn btn-primary">&nbsp&nbsp&nbsp&nbsp&nbspEnviar&nbsp&nbsp&nbsp&nbsp&nbsp</button>

                    </div>

                </div>

            </div>

        </fieldset>

    </form>

    <div class="col-lg-6">

        <div class="panel panel-default">

            <div class="panel-heading">
                Não sabe qual o seu e-mail da UFPE?
            </div>

            <div class="panel-body">

            </div>

        </div>

    </div>
{% endblock %}